<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Data | EDAV Group3 Final Project</title>
  <meta name="description" content="Chapter 2 Data | EDAV Group3 Final Project" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Data | EDAV Group3 Final Project" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Data | EDAV Group3 Final Project" />
  
  
  

<meta name="author" content="Xinwen Miao, Yilan Jiang, Huiqian Yu, Diyue Gu" />


<meta name="date" content="2020-12-16" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="data-cleaning.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<link href="libs/dygraphs-1.1.1/dygraph.css" rel="stylesheet" />
<script src="libs/dygraphs-1.1.1/dygraph-combined.js"></script>
<script src="libs/dygraphs-1.1.1/shapes.js"></script>
<script src="libs/moment-2.8.4/moment.js"></script>
<script src="libs/moment-timezone-0.2.5/moment-timezone-with-data.js"></script>
<script src="libs/moment-fquarter-1.0.0/moment-fquarter.min.js"></script>
<script src="libs/dygraphs-binding-1.1.1.6/dygraphs.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">edavgroup3finalproj</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>2</b> Data</a><ul>
<li class="chapter" data-level="2.1" data-path="data.html"><a href="data.html#describe-the-data-sources"><i class="fa fa-check"></i><b>2.1</b> Describe the data sources:</a></li>
<li class="chapter" data-level="2.2" data-path="data.html"><a href="data.html#basic-information-about-the-dataset"><i class="fa fa-check"></i><b>2.2</b> Basic information about the dataset:</a></li>
<li class="chapter" data-level="2.3" data-path="data.html"><a href="data.html#describe-any-issues-with-the-data"><i class="fa fa-check"></i><b>2.3</b> Describe any issues with the data:</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-cleaning.html"><a href="data-cleaning.html"><i class="fa fa-check"></i><b>3</b> Data Cleaning</a><ul>
<li class="chapter" data-level="3.1" data-path="data-cleaning.html"><a href="data-cleaning.html#data-source-1"><i class="fa fa-check"></i><b>3.1</b> Data Source 1</a></li>
<li class="chapter" data-level="3.2" data-path="data-cleaning.html"><a href="data-cleaning.html#data-source-2"><i class="fa fa-check"></i><b>3.2</b> Data Source 2</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a><ul>
<li class="chapter" data-level="4.1" data-path="missing-values.html"><a href="missing-values.html#data-source-1-1"><i class="fa fa-check"></i><b>4.1</b> Data Source 1</a></li>
<li class="chapter" data-level="4.2" data-path="missing-values.html"><a href="missing-values.html#data-source-2-1"><i class="fa fa-check"></i><b>4.2</b> Data Source 2</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a><ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#packages"><i class="fa fa-check"></i><b>5.1</b> Packages</a></li>
<li class="chapter" data-level="5.2" data-path="results.html"><a href="results.html#data-1"><i class="fa fa-check"></i><b>5.2</b> Data</a><ul>
<li class="chapter" data-level="5.2.1" data-path="results.html"><a href="results.html#data-distribution"><i class="fa fa-check"></i><b>5.2.1</b> Data Distribution</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="results.html"><a href="results.html#how-does-air-pollution-spread-over-the-past-ten-years"><i class="fa fa-check"></i><b>5.3</b> How does air pollution spread over the past ten years?</a><ul>
<li class="chapter" data-level="5.3.1" data-path="results.html"><a href="results.html#time-series-of-so2-and-no3-across-the-nation"><i class="fa fa-check"></i><b>5.3.1</b> Time Series of SO2 and NO3 Across the Nation</a></li>
<li class="chapter" data-level="5.3.2" data-path="results.html"><a href="results.html#monthly-time-series"><i class="fa fa-check"></i><b>5.3.2</b> Monthly Time Series</a></li>
<li class="chapter" data-level="5.3.3" data-path="results.html"><a href="results.html#did-covid-19-lockdown-significantly-reduce-air-pollution-in-new-york-state"><i class="fa fa-check"></i><b>5.3.3</b> Did Covid-19 lockdown significantly reduce air pollution in New York State?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component</a></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">EDAV Group3 Final Project</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data" class="section level1">
<h1><span class="header-section-number">Chapter 2</span> Data</h1>
<div id="describe-the-data-sources" class="section level2">
<h2><span class="header-section-number">2.1</span> Describe the data sources:</h2>
<p>Huiqian is responsible for collecting data.</p>
<p>The aim of this project is to analyze the air pollutants over the U.S. The data was collect from CASTNET: Clean Air Status and Trends Network(<a href="https://java.epa.gov/castnet/clearsession.do" class="uri">https://java.epa.gov/castnet/clearsession.do</a>), which is a national monitoring network established to assess trends in pollutant concentrations, atmospheric deposition, and ecological effects due to changes in air pollutant emissions. CASTNET offers filter pack data which are reported for the time interval which the filter was exposed. The data set is easily accessible through custom report. We chose weekly ambient concentrations of SO2 and HNO3 gases, and SO4, NO3, NH4 and base cation concentrations for particles as measured by open-face filter packs from 2010 to 2020 all over the U.S.</p>
</div>
<div id="basic-information-about-the-dataset" class="section level2">
<h2><span class="header-section-number">2.2</span> Basic information about the dataset:</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="data.html#cb1-1"></a>raw_data &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;./data/Filter Pack Concentrations - Weekly.csv&quot;</span>)</span>
<span id="cb1-2"><a href="data.html#cb1-2"></a><span class="kw">colnames</span>(raw_data)</span></code></pre></div>
<pre><code>##  [1] &quot;SITE_ID&quot;       &quot;TYPE&quot;          &quot;DATEON&quot;        &quot;DATEOFF&quot;       &quot;TSO4&quot;          &quot;TNO3&quot;          &quot;TNH4&quot;          &quot;CA&quot;            &quot;MG&quot;            &quot;NA.&quot;           &quot;K&quot;             &quot;CL&quot;           
## [13] &quot;NSO4&quot;          &quot;NHNO3&quot;         &quot;WSO2&quot;          &quot;WNO3&quot;          &quot;TOTAL_SO2&quot;     &quot;TOTAL_NO3&quot;     &quot;FLOW_VOLUME&quot;   &quot;VALID_HOURS&quot;   &quot;COMMENT_CODES&quot; &quot;STD2LOCAL_CF&quot;  &quot;TEMP_SOURCE&quot;   &quot;QA_CODE&quot;      
## [25] &quot;UPDATE_DATE&quot;</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="data.html#cb3-1"></a><span class="kw">nrow</span>(raw_data)</span></code></pre></div>
<pre><code>## [1] 49124</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="data.html#cb5-1"></a><span class="kw">ncol</span>(raw_data)</span></code></pre></div>
<pre><code>## [1] 25</code></pre>
<p>The raw data has following 25 columns and 49124 rows:</p>
<ol style="list-style-type: decimal">
<li>SITE_ID: Site identification code.</li>
<li>TYPE: Sample type code.</li>
<li>DATEON: Date and time sample collection began, Local Standard Time; mm/dd/yyyy hh:mm:ss.</li>
<li>DATEOFF: Date and time sample collection ended, Local Standard Time; mm/dd/yyyy hh:mm:ss.</li>
<li>TSO4: Sulfate (SO4) concentration from Teflon filter; ug/m^3.</li>
<li>TNO3: Nitrate (NO3) concentration from Teflon filter; ug/m^3.</li>
<li>TNH4: Ammonium (NH4) concentration from Teflon filter; ug/m^3.</li>
<li>CA: Calcium (Ca) concentration from Teflon filter; ug/m^3.</li>
<li>MG: Magnesium (Mg) concentration from Teflon filter; ug/m^3.</li>
<li>NA: Sodium (Na) concentration from Teflon filter; ug/m^3.</li>
<li>K: Potassium (K) concentration from Teflon filter; ug/m^3.</li>
<li>CL: Chloride (Cl) concentration from Teflon filter; ug/m^3.</li>
<li>NSO4: Sulfate (SO4) concentration from Nylon filter; ug/m^3.</li>
<li>NHNO3: Nitric acid (NO3) concentration from Nylon filter; ug/m^3.</li>
<li>WSO2: Sulfur dioxide (SO2) concentration from Whatman filter; ug/m^3.</li>
<li>WNO3: Nitrate (NO3) concentration from Whatman filter; ug/m^3.</li>
<li>TOTAL_SO2: Total sulfur dioxide (SO2) concentration calculated from [wso2]+0.667*nso4]; ug/m^3.</li>
<li>TOTAL_NO3: Total nitrate (NO3) concentration calculated from [tno3]+0.9841*[nhno3]; ug/m^3.
19: FLOW_VOLUME: Flow volume; m^3.</li>
<li>VALID_HOURS: Valid hours during sampling period</li>
<li>COMMENT_CODES: Comment codes separated by spaces</li>
<li>STD2LOCAL_CF: Factor used to convert atmospheric concentrations from standard to local conditions</li>
<li>TEMP_SOURCE: Source of mean temperature used in conversion factor</li>
<li>QA_CODE: Quality assurance level of the record. (see QAPP for definition of quality assurance levels)</li>
<li>UPDATE_DATE: Date and time of last record update.</li>
</ol>
</div>
<div id="describe-any-issues-with-the-data" class="section level2">
<h2><span class="header-section-number">2.3</span> Describe any issues with the data:</h2>
<ol style="list-style-type: decimal">
<li><p>We need to clean raw data and extract necessary columns: SITE_ID, DATEOFF, TSO4, TNO3, TNH4, CA, MG, NA, K, CL, NSO4, NHNO3, WSO2, WNO3.</p></li>
<li><p>The date information display in DATEOFF, mm/dd/yyy hh:mm:ss, we need to convert it into DATE mm/dd/yyyy format.</p></li>
<li><p>The location information from raw data is SITE_ID, which is site identification code used by CASTNET. To transform SITE_ID into general geographical location, we download site information data from CASTNET: <a href="https://java.epa.gov/castnet/epa_jsp/prepackageddata.jsp" class="uri">https://java.epa.gov/castnet/epa_jsp/prepackageddata.jsp</a>, and further join the information.</p></li>
</ol>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="data.html#cb7-1"></a>site_data &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;./data/site.csv&quot;</span>)</span>
<span id="cb7-2"><a href="data.html#cb7-2"></a><span class="kw">colnames</span>(site_data)</span></code></pre></div>
<pre><code>##  [1] &quot;SITE_ID&quot;       &quot;SITE_NUM&quot;      &quot;SITE_NAME&quot;     &quot;ACTIVE&quot;        &quot;INACTIVE&quot;      &quot;AGENCY&quot;        &quot;STATE&quot;         &quot;COUNTY&quot;        &quot;TIME_ZONE&quot;     &quot;LATITUDE&quot;      &quot;LONGITUDE&quot;     &quot;ELEVATION&quot;    
## [13] &quot;MAPID&quot;         &quot;LAND_USE&quot;      &quot;TERRAIN&quot;       &quot;MLM&quot;           &quot;NADP_ID&quot;       &quot;NADP_DISTANCE&quot; &quot;UPDATE_DATE&quot;</code></pre>
<p>The site data has following columns:</p>
<ol style="list-style-type: decimal">
<li>SITE_ID:Site identification code</li>
<li>SITE_NUM: Numeric unique site identification</li>
<li>SITE_NAME: Site name</li>
<li>ACTIVE: Sampling operations currently being conducted at site; site is inactive if NULL.</li>
<li>INACTIVE: Sampling operations that have previously been conducted at the site but are not currently being performed</li>
<li>AGENCY: Operating agency</li>
<li>STATE: State abbreviation</li>
<li>COUNTY: County</li>
<li>TIME_ZONE: Local time zone of site</li>
<li>LATITUDE: Latitude; decimal degrees</li>
<li>LONGITUDE: Longitude; decimal degrees</li>
<li>ELEVATION: Elevation; m</li>
<li>MAPID: USGS 7-1/2 min. map name.</li>
<li>LAND_USE: Primary land use</li>
<li>TERRAIN: Terrain surrounding site</li>
<li>MLM: Does site conform to assumptions of MLM?</li>
<li>NADP_ID: ADP site code</li>
<li>NADP_DISTANCE: Distance to nearest NADP site; km</li>
<li>UPDATE_DATE: Date and time of last record update</li>
</ol>
<p>We don’t need all of these columns, we only need extract SITE_ID, STATE, CONTRY, LATITUDE, LONGITUDE, ELEVATION information.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-cleaning.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/edavGroup3/usairpollution/edit/main/02-data.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/edavGroup3/usairpollution/blob/main/02-data.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
